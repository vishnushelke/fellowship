package com.bridgelabz.oops;

import java.io.File;
import java.io.IOException;

import org.codehaus.jackson.JsonParseException;
import org.codehaus.jackson.map.JsonMappingException;
import org.codehaus.jackson.map.ObjectMapper;

import com.bridgelabz.datastructure.LinkedListnext;
import com.bridgelabz.model.Company;
import com.bridgelabz.model.CompanySharesModel;
import com.bridgelabz.utility.Utility;

public class ListOfCompanyShares {

	public static void main(String[] args) throws JsonParseException, JsonMappingException, IOException {
		ObjectMapper mapper =new ObjectMapper();
		CompanySharesModel model=new CompanySharesModel();
		
		String filepath="/home/user/Desktop/vishnu/bridgelabzJavaPrograms/javaprograms/bootcamp/Files/json files/Companies.json";
		String outfile="/home/user/Desktop/vishnu/bridgelabzJavaPrograms/javaprograms/bootcamp/Files/json files/shresusinglinkedlist";
		model=mapper.readValue(new File(filepath), model.getClass());

		mapper.writeValue(new File(outfile), model);
		LinkedListnext<Company> companies = new LinkedListnext<Company>();

		companies.addAll(model.getCompanyshares());
		
//		compList.addAll(model.getCompanyshares());
//		boolean isExit = false;
//		System.out.println("Please enter password to access company data");
//		if (Utility.stringScan().equals("admin")) {
//			while (!isExit) {
//				System.out.println("Enter company symbol: ");
//				int companySymbol = Utility.intScan();
//				int indexOfCompany = 0;
//				boolean isCompanyFound = false;
//				for (int i = 0; i < compList.size(); i++) {
//					if (companySymbol == compList.get(i).getCompanyshares().get) {
//						isCompanyFound = true;
//						indexOfCompany = i;
//						break;
//					}
//				}
//				if (isCompanyFound) {
//
//					System.out
//							.println("The company you selected is: " + compList.get(indexOfCompany).getCompany_name());
//					System.out.println("Company shares: " + compList.get(indexOfCompany).getCompany_shares());
//					System.out.println("Company share price: " + compList.get(indexOfCompany).getCompany_share_price());
//					System.out.println("Company Total value: " + compList.get(indexOfCompany).getCompany_total_value());
//					System.out.println("Welcome please select task: ");
//					System.out.println("1. for adding shares\n2. for removing shares\n3. for exit");
//					int sharesAmount;
//					switch (OOPsUtility.integerScanner()) {
//					case 1:
//						// for adding shares
//						System.out.println("Enter number of shares");
//						sharesAmount = OOPsUtility.integerScanner();
//						compList.get(indexOfCompany)
//								.setCompany_shares(compList.get(indexOfCompany).getCompany_shares() + sharesAmount);
//						compList.get(indexOfCompany)
//								.setCompany_total_value(compList.get(indexOfCompany).getCompany_shares()
//										* compList.get(indexOfCompany).getCompany_share_price());
//						System.out.println("Data saved!!!");
//						System.out.println("Company: " + compList.get(indexOfCompany).getCompany_name());
//						System.out.println("Company shares: " + compList.get(indexOfCompany).getCompany_shares());
//						System.out.println(
//								"Company share price: " + compList.get(indexOfCompany).getCompany_share_price());
//						System.out.println(
//								"Company Total value: " + compList.get(indexOfCompany).getCompany_total_value());
//
//						JsonUtil.readMapper(pathOfCompanyShares, compModel);
//						break;
//					case 2:
//						// for removing shares
//						System.out.println("Enter number of shares to remove");
//						sharesAmount = OOPsUtility.integerScanner();
//						// check whether company have greater shares than sharesto remove
//						if (compList.get(indexOfCompany).getCompany_shares() > sharesAmount) {
//							compList.get(indexOfCompany)
//									.setCompany_shares(compList.get(indexOfCompany).getCompany_shares() - sharesAmount);
//							compList.get(indexOfCompany)
//									.setCompany_total_value(compList.get(indexOfCompany).getCompany_shares()
//											* compList.get(indexOfCompany).getCompany_share_price());
//
//							System.out.println("Data saved!!!");
//							System.out.println("Company: " + compList.get(indexOfCompany).getCompany_name());
//							System.out.println("Company shares: " + compList.get(indexOfCompany).getCompany_shares());
//							System.out.println(
//									"Company share price: " + compList.get(indexOfCompany).getCompany_share_price());
//							System.out.println(
//									"Company Total value: " + compList.get(indexOfCompany).getCompany_total_value());
//							JsonUtil.readMapper(pathOfCompanyShares, compModel);
//						} else
//							System.out.println("Company don't have that much shares to remove");
//
//						break;
//					case 3:
//						isExit = true;
//						System.out.println("Thank you for your time");
//						break;
//					default:
//						System.out.println("Invalid Option");
//						break;
//
//					}
//				} else
//					System.out.println("Company not found");
//			}
//
//		} else
//			System.out.println("Invalid password");
	}

}
